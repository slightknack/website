<div class="page">
    <h1 class="title">Editing</h1>
    <p>
        You must be authenticated for your changes to save. Styling with
        <a href="https://commonmark.org/help/">Markdown</a> is supported.
    </p>

    <form id="document" action="/edit/{{branch}}/{{id}}" method="post">
        <input name="title" type="text" placeholder="Title" value="{{title}}">
        <textarea
            id="editor"
            name="editor"
            placeholder="This is my favorite piece in all the world, though I have not yet wrote it."
            onkeydown="fitContent()"
        >{{{old}}}</textarea>
        <input type="submit" value="Commit">
    </form>

    <script>
        function fitContent() {
            var editor = document.getElementById("editor");
            editor.style.height = 0;
            editor.style.height = editor.scrollHeight + "px";
        }

        // fits content on page load
        fitContent()
    </script>
</div>
